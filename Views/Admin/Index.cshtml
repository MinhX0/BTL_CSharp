@model backend.ViewModels.Admin.DashboardViewModel
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "Dashboard";
    string FormatCurrency(decimal v) => v.ToString("N0");
}
<div class="stats-row">
    <div class="stat-card primary">
        <div class="stat-icon"><i class="fas fa-box"></i></div>
        <div class="stat-details">
            <p class="stat-value">@Model.TotalProducts</p>
            <p class="stat-label">Products</p>
        </div>
    </div>
    <div class="stat-card success">
        <div class="stat-icon"><i class="fas fa-users"></i></div>
        <div class="stat-details">
            <p class="stat-value">@Model.TotalCustomers</p>
            <p class="stat-label">Customers</p>
        </div>
    </div>
    <div class="stat-card warning">
        <div class="stat-icon"><i class="fas fa-shopping-cart"></i></div>
        <div class="stat-details">
            <p class="stat-value">@Model.TotalOrders</p>
            <p class="stat-label">Orders</p>
        </div>
    </div>
    <div class="stat-card danger">
        <div class="stat-icon"><i class="fas fa-hourglass-half"></i></div>
        <div class="stat-details">
            <p class="stat-value">@Model.PendingOrders</p>
            <p class="stat-label">Pending</p>
        </div>
    </div>
    <div class="stat-card primary">
        <div class="stat-icon"><i class="fas fa-layer-group"></i></div>
        <div class="stat-details">
            <p class="stat-value">@Model.TotalCategories</p>
            <p class="stat-label">Categories</p>
        </div>
    </div>
    <div class="stat-card success">
        <div class="stat-icon"><i class="fas fa-dollar-sign"></i></div>
        <div class="stat-details">
            <p class="stat-value">@FormatCurrency(Model.TotalRevenue)</p>
            <p class="stat-label">Revenue</p>
        </div>
    </div>
</div>

<div class="admin-card">
    <h3>Recent Orders</h3>
    @if (Model.RecentOrders.Count == 0)
    {
        <p class="text-muted mb-0">No recent orders.</p>
    }
    else
    {
        <div class="admin-table">
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Customer</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Total</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                @foreach (var o in Model.RecentOrders)
                {
                    var statusClass = o.Status.ToLower() switch
                    {
                        "pending" => "badge badge-warning",
                        "shipped" => "badge badge-info",
                        "completed" => "badge badge-success",
                        "cancelled" => "badge badge-danger",
                        _ => "badge badge-secondary"
                    };
                    <tr>
                        <td>@o.OrderId</td>
                        <td>@o.CustomerName</td>
                        <td>@o.OrderDate.ToString("yyyy-MM-dd HH:mm")</td>
                        <td><span class="@statusClass">@o.Status</span></td>
                        <td>@FormatCurrency(o.TotalAmount)</td>
                        <td>
                            <a asp-controller="Admin" asp-action="OrderDetail" asp-route-id="@o.OrderId" class="btn-action btn-view"><i class="fas fa-eye"></i></a>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    }
</div>
