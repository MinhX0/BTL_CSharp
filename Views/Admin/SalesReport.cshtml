@using System.Globalization
@model backend.ViewModels.Admin.ProductSalesReportViewModel
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

    ViewData["Title"] = "Báo cáo bán hàng";
}
<div class="admin-card">
    <h2>Báo cáo bán hàng</h2>
    <form method="get" class="row g-3 mb-3">
        <div class="col-auto">
            <label class="form-label">Ngày đầu</label>
            <input type="date" name="startDate" class="form-control"
                value="@Model.Filter.StartDate?.ToString("dd-MM-yyyy")" />
        </div>
        <div class="col-auto">
            <label class="form-label">Ngày cuối</label>
            <input type="date" name="endDate" class="form-control"
                value="@Model.Filter.EndDate?.ToString("dd-MM-yyyy")" />
        </div>
        <div class="col-auto">
            <label class="form-label">Mã loại</label>
            <input type="number" name="categoryId" class="form-control"
                value="@(Model.Filter.CategoryId?.ToString() ?? "")" />
        </div>
        <div class="col-auto align-self-end">
            <button type="submit" class="btn btn-primary">Lọc</button>
        </div>
    </form>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Sản phẩm</th>
                <th class="text-end">Số lượng</th>
                <th class="text-end">Doanh thu</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Items)
            {
                <tr>
                    <td>@item.ProductName</td>
                    <td class="text-end">@item.TotalQuantity</td>
                    <td class="text-end">@item.TotalRevenue.ToString(format: "C0",new CultureInfo("vi-VN"))</td>
                </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <th>Tổng</th>
                <th class="text-end">@Model.TotalQuantity</th>
                <th class="text-end">@Model.TotalRevenue.ToString("C0",new CultureInfo("vi-VN"))</th>
            </tr>
        </tfoot>
    </table>
</div>